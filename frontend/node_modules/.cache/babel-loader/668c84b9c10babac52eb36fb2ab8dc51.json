{"ast":null,"code":"var _jsxFileName = \"/Users/ajaykathpal/Desktop/Drive/laravel-learning/test/panel-frontend/src/index.js\";\nimport React from \"react\";\nimport { render } from \"react-dom\";\nimport { BrowserRouter, Route, Switch, withRouter } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport axios from \"axios\";\nimport $ from \"jquery\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._loginUser = (email, password) => {\n      $(\"#login-form button\").attr(\"disabled\", \"disabled\").html('<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Loading...</span>');\n      var formData = new FormData();\n      formData.append(\"email\", email);\n      formData.append(\"password\", password);\n      axios.post(\"http://localhost:8000/api/user/login/\", formData).then(response => {\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          const {\n            name,\n            id,\n            email,\n            auth_token,\n            role\n          } = json.data.data;\n          let userData = {\n            name,\n            id,\n            email,\n            auth_token,\n            role,\n            timestamp: new Date().toString()\n          };\n          let appState = {\n            isLoggedIn: true,\n            user: userData\n          }; // save app state with user date in local storage\n\n          localStorage[\"appState\"] = JSON.stringify(appState);\n          this.setState({\n            isLoggedIn: appState.isLoggedIn,\n            user: appState.user\n          });\n        } else alert(\"Login Failed!\");\n\n        $(\"#login-form button\").removeAttr(\"disabled\").html(\"Login\");\n      }).catch(error => {\n        alert(`An Error Occured! ${error}`);\n        $(\"#login-form button\").removeAttr(\"disabled\").html(\"Login\");\n      });\n    };\n\n    this._registerUser = (name, email, password) => {\n      $(\"#email-login-btn\").attr(\"disabled\", \"disabled\").html('<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Loading...</span>');\n      var formData = new FormData();\n      formData.append(\"type\", \"email\");\n      formData.append(\"username\", \"usernameee\");\n      formData.append(\"password\", password);\n      formData.append(\"phone\", 33322212231);\n      formData.append(\"email\", email);\n      formData.append(\"address\", \"address okoko\");\n      formData.append(\"name\", name);\n      formData.append(\"id\", 76);\n      axios.post(\"http://localhost:8000/api/user/register\", formData).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          alert(`Registration Successful!`);\n          const {\n            name,\n            id,\n            email,\n            auth_token\n          } = json.data.data;\n          let userData = {\n            name,\n            id,\n            email,\n            auth_token,\n            timestamp: new Date().toString()\n          };\n          let appState = {\n            isLoggedIn: true,\n            user: userData\n          }; // save app state with user date in local storage\n\n          localStorage[\"appState\"] = JSON.stringify(appState);\n          this.setState({\n            isLoggedIn: appState.isLoggedIn,\n            user: appState.user\n          }); // redirect home\n          //this.props.history.push(\"/\");\n        } else {\n          alert(`Registration Failed!`);\n          $(\"#email-login-btn\").removeAttr(\"disabled\").html(\"Register\");\n        }\n      }).catch(error => {\n        alert(\"An Error Occured!\" + error);\n        console.log(`${formData} ${error}`);\n        $(\"#email-login-btn\").removeAttr(\"disabled\").html(\"Register\");\n      });\n    };\n\n    this._logoutUser = () => {\n      let appState = {\n        isLoggedIn: false,\n        user: {}\n      }; // save app state with user date in local storage\n\n      localStorage[\"appState\"] = JSON.stringify(appState);\n      this.setState(appState);\n    };\n\n    this.state = {\n      isLoggedIn: false,\n      user: {}\n    };\n  }\n\n  componentDidMount() {\n    let state = localStorage[\"appState\"];\n\n    if (state) {\n      let AppState = JSON.parse(state); // console.log(AppState);\n\n      this.setState({\n        isLoggedIn: AppState.isLoggedIn,\n        user: AppState\n      });\n    }\n  }\n\n  render() {\n    console.log(this.state.isLoggedIn); // console.log(\"path name: \" + this.props.location.pathname);\n\n    if (!this.state.isLoggedIn && this.props.location.pathname !== \"/login\" && this.props.location.pathname !== \"/register\") {\n      // console.log(\n      //   \"you are not loggedin and are not visiting login or register, so go to login page\"\n      // );\n      alert(\"here\");\n      this.props.history.push(\"/login\");\n    }\n\n    if (this.state.isLoggedIn && (this.props.location.pathname === \"/login\" || this.props.location.pathname === \"/register\")) {\n      // console.log(\n      //   \"you are either going to login or register but youre logged in\"\n      // );\n      this.props.history.push(\"/\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, this.state.isLoggedIn === true ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: props => React.createElement(Home, Object.assign({}, props, {\n        logoutUser: this._logoutUser,\n        user: this.state.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    })) : React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/*\",\n      render: props => React.createElement(Login, Object.assign({}, props, {\n        loginUser: this._loginUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })))))) // <Switch data=\"data\">\n    //   <div id=\"main\">\n    //     <Route\n    //       exact\n    //       path=\"/\"\n    //       render={props => (\n    //         <Home\n    //           {...props}\n    //           logoutUser={this._logoutUser}\n    //           user={this.state.user}\n    //         />\n    //       )}\n    //     />\n    //     <Route\n    //       path=\"/login\"\n    //       render={props => <Login {...props} loginUser={this._loginUser} />}\n    //     />\n    //     {/* <Route\n    //       path=\"/register\"\n    //       render={props => (\n    //         <Register {...props} registerUser={this._registerUser} />\n    //       )}\n    //     /> */}\n    //   </div>\n    // </Switch>\n    ;\n  }\n\n}\n\nconst AppContainer = withRouter(props => React.createElement(App, Object.assign({}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 237\n  },\n  __self: this\n}))); // console.log(store.getState())\n\nrender(React.createElement(BrowserRouter, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 240\n  },\n  __self: this\n}, React.createElement(AppContainer, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 241\n  },\n  __self: this\n})), document.getElementById(\"root\"));","map":{"version":3,"sources":["/Users/ajaykathpal/Desktop/Drive/laravel-learning/test/panel-frontend/src/index.js"],"names":["React","render","BrowserRouter","Route","Switch","withRouter","Home","Login","Register","axios","$","App","Component","constructor","props","_loginUser","email","password","attr","html","formData","FormData","append","post","then","response","json","data","success","name","id","auth_token","role","userData","timestamp","Date","toString","appState","isLoggedIn","user","localStorage","JSON","stringify","setState","alert","removeAttr","catch","error","_registerUser","console","log","_logoutUser","state","componentDidMount","AppState","parse","location","pathname","history","push","AppContainer","document","getElementById"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { render } from \"react-dom\";\nimport { BrowserRouter, Route, Switch, withRouter } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\n\nimport axios from \"axios\";\nimport $ from \"jquery\";\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: false,\n      user: {}\n    };\n  }\n  _loginUser = (email, password) => {\n    $(\"#login-form button\")\n      .attr(\"disabled\", \"disabled\")\n      .html(\n        '<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Loading...</span>'\n      );\n    var formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n\n    axios\n      .post(\"http://localhost:8000/api/user/login/\", formData)\n      .then(response => {\n        return response;\n      })\n      .then(json => {\n        if (json.data.success) {\n          const { name, id, email, auth_token, role } = json.data.data;\n\n          let userData = {\n            name,\n            id,\n            email,\n            auth_token,\n            role,\n            timestamp: new Date().toString()\n          };\n          let appState = {\n            isLoggedIn: true,\n            user: userData\n          };\n          // save app state with user date in local storage\n          localStorage[\"appState\"] = JSON.stringify(appState);\n          this.setState({\n            isLoggedIn: appState.isLoggedIn,\n            user: appState.user\n          });\n        } else alert(\"Login Failed!\");\n\n        $(\"#login-form button\")\n          .removeAttr(\"disabled\")\n          .html(\"Login\");\n      })\n      .catch(error => {\n        alert(`An Error Occured! ${error}`);\n        $(\"#login-form button\")\n          .removeAttr(\"disabled\")\n          .html(\"Login\");\n      });\n  };\n\n  _registerUser = (name, email, password) => {\n    $(\"#email-login-btn\")\n      .attr(\"disabled\", \"disabled\")\n      .html(\n        '<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Loading...</span>'\n      );\n\n    var formData = new FormData();\n    formData.append(\"type\", \"email\");\n    formData.append(\"username\", \"usernameee\");\n    formData.append(\"password\", password);\n    formData.append(\"phone\", 33322212231);\n    formData.append(\"email\", email);\n    formData.append(\"address\", \"address okoko\");\n    formData.append(\"name\", name);\n    formData.append(\"id\", 76);\n\n    axios\n      .post(\"http://localhost:8000/api/user/register\", formData)\n      .then(response => {\n        console.log(response);\n        return response;\n      })\n      .then(json => {\n        if (json.data.success) {\n          alert(`Registration Successful!`);\n          const { name, id, email, auth_token } = json.data.data;\n          let userData = {\n            name,\n            id,\n            email,\n            auth_token,\n            timestamp: new Date().toString()\n          };\n          let appState = {\n            isLoggedIn: true,\n            user: userData\n          };\n          // save app state with user date in local storage\n          localStorage[\"appState\"] = JSON.stringify(appState);\n          this.setState({\n            isLoggedIn: appState.isLoggedIn,\n            user: appState.user\n          });\n          // redirect home\n          //this.props.history.push(\"/\");\n        } else {\n          alert(`Registration Failed!`);\n          $(\"#email-login-btn\")\n            .removeAttr(\"disabled\")\n            .html(\"Register\");\n        }\n      })\n      .catch(error => {\n        alert(\"An Error Occured!\" + error);\n        console.log(`${formData} ${error}`);\n        $(\"#email-login-btn\")\n          .removeAttr(\"disabled\")\n          .html(\"Register\");\n      });\n  };\n\n  _logoutUser = () => {\n    let appState = {\n      isLoggedIn: false,\n      user: {}\n    };\n    // save app state with user date in local storage\n    localStorage[\"appState\"] = JSON.stringify(appState);\n    this.setState(appState);\n  };\n\n  componentDidMount() {\n    let state = localStorage[\"appState\"];\n    if (state) {\n      let AppState = JSON.parse(state);\n      // console.log(AppState);\n      this.setState({ isLoggedIn: AppState.isLoggedIn, user: AppState });\n    }\n  }\n\n  render() {\n    console.log(this.state.isLoggedIn);\n    // console.log(\"path name: \" + this.props.location.pathname);\n    if (\n      !this.state.isLoggedIn &&\n      this.props.location.pathname !== \"/login\" &&\n      this.props.location.pathname !== \"/register\"\n    ) {\n      // console.log(\n      //   \"you are not loggedin and are not visiting login or register, so go to login page\"\n      // );\n      alert(\"here\");\n      this.props.history.push(\"/login\");\n    }\n    if (\n      this.state.isLoggedIn &&\n      (this.props.location.pathname === \"/login\" ||\n        this.props.location.pathname === \"/register\")\n    ) {\n      // console.log(\n      //   \"you are either going to login or register but youre logged in\"\n      // );\n\n      this.props.history.push(\"/\");\n    }\n    return (\n\n      <div>\n          <Router>\n            <div>\n              <Switch>\n                {this.state.isLoggedIn===true ? (\n                  <React.Fragment>\n                  <Route exact path='/' render={props => (\n                                              <Home\n                                                {...props}\n                                                logoutUser={this._logoutUser}\n                                                user={this.state.user}\n                                              />\n                                            )}/>\n                  {/* <Route  path='/user' component={UserPage}/>\n                  <Route  path='/role' component={RolePage}/> */}\n                  </React.Fragment>\n                  ) : (\n                    <React.Fragment>\n                  <Route  path='/*' render={props => <Login {...props} loginUser={this._loginUser} />}/>\n                  </React.Fragment>\n                  )}\n              </Switch>\n            </div>\n          </Router>\n        </div>\n\n\n\n\n      // <Switch data=\"data\">\n      //   <div id=\"main\">\n      //     <Route\n      //       exact\n      //       path=\"/\"\n      //       render={props => (\n      //         <Home\n      //           {...props}\n      //           logoutUser={this._logoutUser}\n      //           user={this.state.user}\n      //         />\n      //       )}\n      //     />\n\n      //     <Route\n      //       path=\"/login\"\n      //       render={props => <Login {...props} loginUser={this._loginUser} />}\n      //     />\n\n      //     {/* <Route\n      //       path=\"/register\"\n      //       render={props => (\n      //         <Register {...props} registerUser={this._registerUser} />\n      //       )}\n      //     /> */}\n      //   </div>\n      // </Switch>\n    );\n  }\n}\n\nconst AppContainer = withRouter(props => <App {...props} />);\n// console.log(store.getState())\nrender(\n  <BrowserRouter>\n    <AppContainer />\n  </BrowserRouter>,\n\n  document.getElementById(\"root\")\n);\n"]},"metadata":{},"sourceType":"module"}